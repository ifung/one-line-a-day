extends layout

block content
  .container.journal-container
    h3.text-center.day-of-week #{moment().tz(timezone).format('dddd')}
    h2.text-center.day-of-month #{moment().tz(timezone).format('MMMM D')}

    - var monthday = moment().tz(timezone).format('MMDD')
    - var year = moment().tz(timezone).format('YYYY')

    if journal && journal[monthday]
      - var entries = journal[monthday]

      each entry, year in entries
        .row.journal-row
          .col-md-1
            p= year
          .col-md-11
            p.lead.journal-entry= entry

    if !journal || !journal[monthday] || !journal[monthday][year]
      .row.journal-row
        .col-md-1
          p= year
        .col-md-11
          form(method='POST')
            input(type='hidden', name='_csrf', value=_csrf)
            .form-group
              label.sr-only(for='entry') How was your day?
              input.form-control(type='text', name='entry', id='entry', placeholder='How was your day?', autofocus=true)
            button.btn.btn-primary(type='submit')
              | Save